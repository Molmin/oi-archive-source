
# Description

<div class="content"><div>今天真是多谢你了</div>
<div>让我体验了许多美好</div>
<div>我留下了如同美梦一般的回忆 不过时间到了</div>
<div>最后我还想拜托你一件事</div>
<div>希望你可以把我忘掉</div>
<div> <img src="/source/bzoj/5144/img/aHR0cHM6Ly9seWRzeS5jb20vSnVkZ2VPbmxpbmUvdXBsb2FkLzIwMTgwMS8xKDQpLnBuZw==.png" width="1024" height="640" alt=""/></div>
<div>在自己消失之前</div>
<div>心怀不想消失的愿望</div>
<div>希望让某个人记住我</div>
<div>希望能留下羁绊</div>
<div>我这么希望着，又有什么不可以的吗</div>
<div> <img src="/source/bzoj/5144/img/aHR0cHM6Ly9seWRzeS5jb20vSnVkZ2VPbmxpbmUvdXBsb2FkLzIwMTgwMS8yKDMpLnBuZw==.png" width="1024" height="640" alt=""/></div>
<div>香香甜甜的，真好闻</div>
<div>看起来很好吃</div>
<div> <img src="/source/bzoj/5144/img/aHR0cHM6Ly9seWRzeS5jb20vSnVkZ2VPbmxpbmUvdXBsb2FkLzIwMTgwMS8zKDQpLnBuZw==.png" width="1024" height="640" alt=""/></div>
<div>我遵守了...</div>
<div>约...约定</div>
<div>我非常...非常努力哦...</div>
<div> <img src="/source/bzoj/5144/img/aHR0cHM6Ly9seWRzeS5jb20vSnVkZ2VPbmxpbmUvdXBsb2FkLzIwMTgwMS80KDMpLnBuZw==.png" width="1024" height="640" alt=""/></div>
<div>欢迎回来，珂朵莉</div>
<div>珂朵莉给了你一个长为n的序列a，有m次操作</div>
<div>1.把区间[l,r]内所有数都加上x</div>
<div>2.查询区间[l,r]内的最大子段和，可以不选数</div>
<p></p></div>

# Input

<div class="content"><div>第一行两个数n,m</div>
<div>第二行n个数表示序列a</div>
<div>后面m行</div>
<div>1 l r x : 把区间[l,r]内所有数加上x</div>
<div>2 l r : 查询区间[l,r]的最大子段和</div>
<div>1 &lt;= n , m &lt;= 100000 , | ai | &lt;= 2000000000 , 0 &lt;= x &lt;= 1000000</div>
<div>共15组数据</div>
<p></p></div>

# Output

<div class="content"><div>对于每个询问，输出一个数表示答案</div>
<p></p></div>

# Sample Input

<div class="content"><span class="sampledata">5 5<br/>
-2 -3 -3 -3 -3<br/>
2 1 5<br/>
1 2 4 4<br/>
2 1 5<br/>
1 2 3 1<br/>
2 3 3</span></div>

# Sample Output

<div class="content"><span class="sampledata">0<br/>
3<br/>
2</span></div>

# Hint

<div class="content"><p></p></div>

# Source

<div class="content"><p><a href="problemset.php?search=By nzhtl1477 &amp; ccz181078
">By nzhtl1477 &amp; ccz181078<br/>
</a></p></div>

