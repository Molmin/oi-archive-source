
# Description

<div class="content"><p><span style="font-size: medium">一个有向图有n个点，m条有向边。边分为3类。A类边供应特定的物品，当你经<br/>
过一条A类边时，会得到相应的物品；B类边需求特定的物品，当且仅当你最近一次<br/>
得到的物品是此B类边所需时，你才能通过这条B类边并且失去这个物品；经过C类<br/>
边没有任何影响。你想知道，从点1出发经过不超过K条边到达点n的路径数量（模10007）。 <br/>
 </span></p></div>

# Input

<div class="content"></div>

# Output

<div class="content"></div>

# Sample Input

<div class="content"><span class="sampledata">7 9 5 <br/>
1 2 A <br/>
2 3 B <br/>
2 5 <br/>
5 3 C <br/>
3 4 b <br/>
3 6 c <br/>
3 7 <br/>
4 7 a <br/>
6 7 a </span></div>

# Sample Output

<div class="content"><span class="sampledata">4</span></div>

# Hint

<div class="content"><p></p><p><br/><br/>
<font size="4">n, K &lt;= 50, m &lt;= 2450. </font></p><p></p></div>

# Source

<div class="content"><p><a href="problemset.php?search="></a></p></div>

