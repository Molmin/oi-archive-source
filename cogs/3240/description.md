# 题目描述


<h3>
【题目描述】
</h3>
<p>
给定长度为N的数列A，以及M条指令，每条指令可能是以下两种之一：
</p>
<p>
1、“1 x y”，查询区间 [x,y] 中的最大连续子段和，即$ max_ {x\le l \le r\le y} {\sum_{i=l}^r A_i}$
</p>
<p>
2、“2 x y”，把 A[x] 改成 y。
</p>
<p>
对于每个查询指令，输出一个整数表示答案。
</p>
<h3>
【输入格式】
</h3>
<p>
第一行两个整数N,M。
</p>
<p>
第二行N个整数A[i]。
</p>
<p>
接下来M行每行3个整数k,x,y，k=1表示查询（此时如果x&gt;y，请交换x,y），k=2表示修改。
</p>
<h3>
【输出格式】
</h3>
<p>
对于每个查询指令输出一个整数表示答案。
</p>
<p>
每个答案占一行。
</p>
<h3>
【样例输入】
</h3>
<pre>5 3
1 2 -3 4 5
1 2 3
2 2 -1
1 3 2
</pre>
<h3>
【样例输出
</h3>
<pre>2
-1
</pre>
<h3>
【提示】
</h3>
<p>
$N≤500000,M≤100000$
</p>
<h3>
【来源】
</h3>
<p>
《算法竞赛进阶指南》
</p>
